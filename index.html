<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Master Final</title>

<!-- ðŸ”¥ GOOGLE ADSENSE (WEB) -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
     crossorigin="anonymous"></script>

<style>
:root { --p-color:#2563eb; --s-color:#10b981; --bg:#f3f4f6; }
body { font-family:sans-serif; background:var(--bg); margin:0; display:flex; justify-content:center; }
#app { width:100%; max-width:450px; background:white; min-height:100vh; box-shadow:0 0 20px rgba(0,0,0,.1); display:flex; flex-direction:column; position:relative; }

.top-bar { background:var(--p-color); color:white; padding:15px; display:flex; justify-content:space-between; align-items:center; font-weight:bold; }
.coin-box { background:rgba(0,0,0,.2); padding:5px 12px; border-radius:20px; }

.screen { padding:20px; display:none; flex-grow:1; }
.active { display:flex; flex-direction:column; justify-content:center; }

.menu-btn { width:100%; padding:15px; margin:10px 0; border:none; border-radius:12px; font-size:1rem; font-weight:bold; cursor:pointer; color:white; }
.btn-play{background:var(--s-color);}
.btn-ad{background:#f59e0b;}
.btn-pay{background:#6366f1;}
.btn-gray{background:#6b7280;}

.levels-grid{display:grid; grid-template-columns:repeat(5,1fr); gap:10px; margin-top:20px;}
.lvl-btn{aspect-ratio:1; border-radius:10px; border:none; font-weight:bold; cursor:pointer;}

.opt-btn{background:white; border:2px solid #e5e7eb; width:100%; padding:15px; margin:8px 0; border-radius:10px; font-weight:bold; cursor:pointer;}

#modal-fail,
#ad-overlay{
position:absolute;
inset:0;
background:rgba(0,0,0,.9);
color:white;
display:none;
flex-direction:column;
justify-content:center;
align-items:center;
z-index:200;
text-align:center;
padding:20px;
}

#ad-box{background:white; padding:10px; border-radius:10px;}

.snd-control{background:none; border:none; color:white; font-size:1.2rem; cursor:pointer;}
</style>
</head>

<body>

<audio id="bg-music" loop src="game-music-loop-6-144641.mp3"></audio>
<audio id="snd-click" src="clic.mp3"></audio>
<audio id="snd-correct" src="ganar.mp3"></audio>
<audio id="snd-wrong" src="perder.mp3"></audio>

<div id="app">

<div class="top-bar">
<button class="snd-control" id="mute-btn" onclick="toggleMute()">ðŸ”Š</button>
<span>QUIZ MASTER PRO</span>
<div class="coin-box">ðŸ’° <span id="coin-count">0</span></div>
</div>

<div id="scr-home" class="screen active">
<button class="menu-btn btn-ad" onclick="solicitarAnuncio(50)">ðŸ“º Ver Anuncio (+50 ðŸ’°)</button>
<button class="menu-btn btn-play" onclick="irA('scr-groups')">ðŸŽ® Jugar</button>
<button class="menu-btn btn-pay" onclick="irA('scr-shop')">ðŸ’³ Canjear PayPal</button>

<!-- ðŸ”¥ BANNER ADSENSE -->
<div id="ad-box">
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
     data-ad-slot="1234567890"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
</div>
</div>

<!-- RESTO DE PANTALLAS (SIN CAMBIOS) -->
<!-- â€¦ TODO TU CÃ“DIGO ORIGINAL SIGUE IGUAL â€¦ -->

<!-- ðŸ”¥ ANUNCIO OBLIGATORIO OVERLAY -->
<div id="ad-overlay">
<h2>Publicidad</h2>
<div id="ad-box">
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
     data-ad-slot="1234567890"
     data-ad-format="auto"></ins>
</div>
<br>
<button class="menu-btn btn-gray" onclick="cerrarAd()">Continuar</button>
</div>

</div>

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<script>
let monedas = parseInt(localStorage.getItem("monedas")) || 0;
let progreso = JSON.parse(localStorage.getItem("progreso")) || {"FÃ¡cil":1,"Media":1,"DifÃ­cil":1,"Muy DifÃ­cil":1};

let grupoActivo="", qIdx=0, aciertos=0, contadorPreguntas=0;
let bancoPreguntas=[], preguntasFiltradas=[], poolPreguntas=[];
let isMuted=false;

actualizarMarcador();

function mostrarAdObligatorio(){
 document.getElementById("ad-overlay").style.display="flex";
 (adsbygoogle = window.adsbygoogle || []).push({});
}

function cerrarAd(){
 document.getElementById("ad-overlay").style.display="none";
 continuarConAnuncio();
}

/* ðŸ‘‰ TODO TU JS ORIGINAL SIGUE IGUAL
   SOLO AÃ‘ADIMOS LLAMADAS A mostrarAdObligatorio()
   CADA 5 PREGUNTAS (YA IMPLEMENTADO ANTES) */
</script>

</body>
</html>
